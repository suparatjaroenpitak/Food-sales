#pragma checksum "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml" "{8829d00f-11b8-4213-878b-770e8597ac16}" "91f4436a49f87d21498334367caa25dc63e06fc67ed730c50bcea8081f48d030"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCoreGeneratedDocument.Views_Food_Index), @"mvc.1.0.view", @"/Views/Food/Index.cshtml")]
namespace AspNetCoreGeneratedDocument
{
    #line default
    using global::System;
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Mvc;
    using global::Microsoft.AspNetCore.Mvc.Rendering;
    using global::Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\_ViewImports.cshtml"
using TestFood

#nullable disable
    ;
#nullable restore
#line 2 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\_ViewImports.cshtml"
using TestFood.Models

#nullable disable
    ;
    #line default
    #line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"Sha256", @"91f4436a49f87d21498334367caa25dc63e06fc67ed730c50bcea8081f48d030", @"/Views/Food/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"Sha256", @"02c18f372343f8d94d45bfd56a3d2210f83965a907621f2655bd03ed9385eb44", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    internal sealed class Views_Food_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<
#nullable restore
#line 1 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
       List<TestQuit.Models.Food>

#line default
#line hidden
#nullable disable
    >
    #nullable disable
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("createForm"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 3 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
  
    ViewBag.Title = "Food List";

#line default
#line hidden
#nullable disable

            WriteLiteral(@"<link rel=""stylesheet"" href=""https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"">
<style>

</style>

<h2>Food List</h2>

<div class=""toolbar"">
    <label>ค้นหา Product:</label>
    <input type=""text"" id=""searchProduct"" placeholder=""Type product name..."" />
    <button id=""btnSearch"">Search</button>

    <label>กรองวันที่:</label>
    <input type=""text"" id=""filterDate"" />
    <input type=""hidden"" id=""hiddenDate"" name=""filterDate"" />

    <button id=""btnFilter"">Filter</button>


    <button id=""btnRefresh"">Refresh</button>
    <div class=""toolbar"">
    <button id=""btnCreate"">Create New</button>
</div>
</div>

<div id=""message""></div>
<table id=""foodTable"">
    <thead>
        <tr>
            <th>OrderDate</th>
            <th>Region</th>
            <th>City</th>
            <th>Category</th>
            <th>Product</th>
            <th>Quantity</th>
            <th>UnitPrice</th>
            <th>TotalPrice</th>
            <th>Actions</th>
        </tr>
    </th");
            WriteLiteral("ead>\r\n    <tbody>\r\n");
#nullable restore
#line 47 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
         foreach (var food in Model)
        {

#line default
#line hidden
#nullable disable

            WriteLiteral("            <tr>\r\n                <td>");
            Write(
#nullable restore
#line 50 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                     food.OrderDate.ToString("yyyy-MM-dd")

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("</td>\r\n                <td>");
            Write(
#nullable restore
#line 51 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                     food.Region

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("</td>\r\n                <td>");
            Write(
#nullable restore
#line 52 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                     food.City

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("</td>\r\n                <td>");
            Write(
#nullable restore
#line 53 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                     food.Category

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("</td>\r\n                <td>");
            Write(
#nullable restore
#line 54 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                     food.Product

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("</td>\r\n                <td>");
            Write(
#nullable restore
#line 55 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                     food.Quantity

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("</td>\r\n                <td>");
            Write(
#nullable restore
#line 56 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                     food.UnitPrice

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("</td>\r\n                <td>");
            Write(
#nullable restore
#line 57 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                     food.TotalPrice

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("</td>\r\n                <td>\r\n                    <button class=\"btnEdit\"\r\n                            data-orderdate=\"");
            Write(
#nullable restore
#line 60 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                             food.OrderDate.ToString("yyyy-MM-dd")

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\"\r\n                            data-region=\"");
            Write(
#nullable restore
#line 61 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                          food.Region

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\"\r\n                            data-city=\"");
            Write(
#nullable restore
#line 62 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                        food.City

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\"\r\n                            data-category=\"");
            Write(
#nullable restore
#line 63 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                            food.Category

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\"\r\n                            data-product=\"");
            Write(
#nullable restore
#line 64 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                           food.Product

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\"\r\n                            data-quantity=\"");
            Write(
#nullable restore
#line 65 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                            food.Quantity

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\"\r\n                            data-unitprice=\"");
            Write(
#nullable restore
#line 66 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                             food.UnitPrice

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\"\r\n                            data-totalprice=\"");
            Write(
#nullable restore
#line 67 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                              food.TotalPrice

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\">\r\n                        Edit\r\n                    </button>\r\n                    <button class=\"btnDelete\"\r\n                            data-orderdate=\"");
            Write(
#nullable restore
#line 71 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                             food.OrderDate.ToString("yyyy-MM-dd")

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\"\r\n                            data-region=\"");
            Write(
#nullable restore
#line 72 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                          food.Region

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\"\r\n                            data-product=\"");
            Write(
#nullable restore
#line 73 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                                           food.Product

#line default
#line hidden
#nullable disable
            );
            WriteLiteral("\">\r\n                        Delete\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n");
#nullable restore
#line 78 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
        }

#line default
#line hidden
#nullable disable

            WriteLiteral(@"    </tbody>
</table>

<div id=""editModal"" style=""display: none;"">
    <h3>แก้ไขข้อมูล</h3>

    <input type=""hidden"" id=""editOrderDate"" />
    <input type=""hidden"" id=""editRegion"" />
    <input type=""hidden"" id=""editProduct"" />

    <label>Quantity:</label>
    <input type=""text"" id=""editQuantity"" />

    <label>UnitPrice:</label>
    <input type=""text"" id=""editUnitPrice"" />

    <button id=""btnSaveEdit"">Save</button>
    <button id=""btnCancelEdit"">Cancel</button>
</div>
<div id=""createModal"" style=""display: none;"">
    <h3>สร้างข้อมูลใหม่</h3>
    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "91f4436a49f87d21498334367caa25dc63e06fc67ed730c50bcea8081f48d03012797", async() => {
                WriteLiteral(@"
        <label>OrderDate:</label>
        <input type=""text"" id=""createOrderDate"" />
        <label>Region:</label>
        <input type=""text"" id=""createRegion"" />
        <label>City:</label>
        <input type=""text"" id=""createCity"" />
        <label>Category:</label>
        <input type=""text"" id=""createCategory"" />
        <label>Product:</label>
        <input type=""text"" id=""createProduct"" />
        <label>Quantity:</label>
        <input type=""text"" id=""createQuantity"" />
        <label>UnitPrice:</label>
        <input type=""text"" id=""createUnitPrice"" />

        <button type=""button"" id=""btnSaveCreate"">Save</button>
        <button type=""button"" id=""btnCancelCreate"">Cancel</button>
    ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n</div>\r\n\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"
    <script src=""https://code.jquery.com/jquery-3.6.0.min.js""></script>

    <script src=""https://code.jquery.com/ui/1.13.2/jquery-ui.min.js""></script>
    <script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery-ui-datepicker/1.13.2/i18n/datepicker-th.min.js""></script>
    <script>
        $(function () {
            $(""#btnCreate"").click(function () {
             $(""#createModal"").fadeIn();
                                        });
            $(""#btnCancelCreate"").click(function () {
            $(""#createModal"").fadeOut();
            $(""#createForm"")[0].reset(); // Clear the form fields
        });
            $(""#btnSaveCreate"").click(function () {
                var orderDate = $(""#createOrderDate"").val();
                var orderDateFormatted = """";

                // Convert date format from dd/mm/yy to yyyy-mm-dd
                if (orderDate) {
                    var parts = orderDate.split('/');
                    if (parts.length === 3) {
                        va");
                WriteLiteral(@"r year = (parseInt(parts[2], 10) - 543).toString();
                        orderDateFormatted = year + '-' + parts[1].padStart(2, '0') + '-' + parts[0].padStart(2, '0');
                    }
                }

                var formData = {
                    OrderDate: orderDateFormatted,
                    Region: $(""#createRegion"").val(),
                    City: $(""#createCity"").val(),
                    Category: $(""#createCategory"").val(),
                    Product: $(""#createProduct"").val(),
                    Quantity: $(""#createQuantity"").val(),
                    UnitPrice: parseFloat($(""#createUnitPrice"").val()),
                    // TotalPrice is calculated on the server side
                };

                $.ajax({
                    url: '");
                Write(
#nullable restore
#line 160 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                           Url.Action("Create", "Food")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@"',
                    type: 'POST',
                    data: JSON.stringify(formData),
                    contentType: ""application/json; charset=utf-8"",
                    dataType: ""json"",
                    success: function(response){
                        if (response.success) {
                            $(""#message"").text(""สร้างข้อมูลสำเร็จ!"");
                            $(""#createModal"").fadeOut();
                            $(""#createForm"")[0].reset();
                            location.reload(); // Refresh to show new data
                        } else {
                            $(""#message"").text(""เกิดข้อผิดพลาด: "" + response.message);
                        }
                    },
                    error: function(xhr){
                        console.log(xhr.responseText);
                        alert(""เกิดข้อผิดพลาดในการสร้างข้อมูล"");
                    }
                });
            });
            // ===================== Datepicker ===============");
                WriteLiteral(@"======
            $(""#filterDate"").datepicker({
                dateFormat: 'dd/mm/yy',
                changeMonth: true,
                changeYear: true,
                showAnim: 'slideDown',
                dayNamesMin: [""อา"", ""จ"", ""อ"", ""พ"", ""พฤ"", ""ศ"", ""ส""],
                monthNames: [""มกราคม"",""กุมภาพันธ์"",""มีนาคม"",""เมษายน"",""พฤษภาคม"",""มิถุนายน"",
                             ""กรกฎาคม"",""สิงหาคม"",""กันยายน"",""ตุลาคม"",""พฤศจิกายน"",""ธันวาคม""],
                monthNamesShort: [""ม.ค."",""ก.พ."",""มี.ค."",""เม.ย."",""พ.ค."",""มิ.ย."",""ก.ค."",""ส.ค."",""ก.ย."",""ต.ค."",""พ.ย."",""ธ.ค.""],
                beforeShow: function(input, inst) {
                    setTimeout(function() {
                        inst.dpDiv.find('.ui-datepicker-year option').each(function() {
                            var val = parseInt($(this).val(), 10);
                            $(this).text(val + 543);
                        });
                    }, 0);
                },
                onChangeMonthYear: function(year, month, ");
                WriteLiteral(@"inst) {
                    setTimeout(function() {
                        inst.dpDiv.find('.ui-datepicker-year option').each(function() {
                            var val = parseInt($(this).val(), 10);
                            $(this).text(val + 543);
                        });
                    }, 0);
                },
                onClose: function(dateText, inst) {
                    if (dateText) {
                        var parts = dateText.split('/');
                        if(parts.length === 3){
                            var day = parts[0];
                            var month = parts[1];
                            var year = parseInt(parts[2], 10) + 543;
                            $(this).val(day + '/' + month + '/' + year);
                        }
                    }
                }
            });

                    $("".btnEdit"").click(function () {
            var food = $(this).data();

            // Set values to the hidden fields from the ");
                WriteLiteral(@"button's data attributes
            $(""#editOrderDate"").val(food.orderdate);
            $(""#editRegion"").val(food.region);
            $(""#editProduct"").val(food.product);

            // Set values to the editable fields
            $(""#editQuantity"").val(food.quantity);
            $(""#editUnitPrice"").val(food.unitprice);

            $(""#editModal"").fadeIn();
        });

            // ===================== Close Modal =====================
            $(""#btnCancelEdit"").click(function () {
                $(""#editModal"").fadeOut();
            });
                    $(""#btnSaveEdit"").click(function () {
            // Get original data from hidden fields to identify the row
            var originalOrderDate = $(""#editOrderDate"").val();
            var originalRegion = $(""#editRegion"").val();
            var originalProduct = $(""#editProduct"").val();

            // Convert date format from dd/mm/yy to yyyy-mm-dd
            var orderDateFormatted = """";
            if (original");
                WriteLiteral(@"OrderDate) {
                var parts = originalOrderDate.split('/');
                if (parts.length === 3) {
                    var year = (parseInt(parts[2], 10) - 543).toString();
                    orderDateFormatted = year + '-' + parts[1].padStart(2, '0') + '-' + parts[0].padStart(2, '0');
                }
            }

            // Get the updated values from the input fields
            var updatedQuantity = $(""#editQuantity"").val();
            var updatedUnitPrice = $(""#editUnitPrice"").val();

            // Create a query string
            var queryString = $.param({
                orderDate: orderDateFormatted,
                region: originalRegion,
                product: originalProduct,
                quantity: updatedQuantity,
                unitPrice: updatedUnitPrice
            });

            $.ajax({
                url: '");
                Write(
#nullable restore
#line 269 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                       Url.Action("Edit", "Food")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@"?' + queryString,
                type: 'POST',
                success: function(response){
                    if (response.success) {
                        $(""#message"").text(""อัปเดตข้อมูลสำเร็จ!"");
                        $(""#editModal"").fadeOut();
                        // Reload the page to show the updated data
                        location.reload();
                    } else {
                        $(""#message"").text(""เกิดข้อผิดพลาด: "" + response.message);
                    }
                },
                error: function(xhr){
                    console.log(xhr.responseText);
                    alert(""เกิดข้อผิดพลาดในการอัปเดตข้อมูล"");
                }
            });
        });
            // ===================== Search =====================
           // ===================== Search =====================
                         $(""#btnSearch"").click(function () {
                var product = $(""#searchProduct"").val();
    
                if (!product) {");
                WriteLiteral("\r\n                    alert(\"กรุณาใส่ชื่อสินค้าที่ต้องการค้นหา\");\r\n                    return;\r\n                }\r\n\r\n                $.ajax({\r\n                    url: \'");
                Write(
#nullable restore
#line 298 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                           Url.Action("Search", "Food")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@"',
                    type: 'GET',
                    data: { product: product },
                    success: function(response){
                        var tableBody = $(""#foodTable tbody"");
                        tableBody.empty(); // Clear existing table rows

                        if (response && response.length > 0) {
                            // Loop through each item in the JSON response
                            $.each(response, function(index, food) {
                                var newRow = `<tr>
                                    <td>${food.orderDate.substring(0, 10)}</td>
                                    <td>${food.region}</td>
                                    <td>${food.city}</td>
                                    <td>${food.category}</td>
                                    <td>${food.product}</td>
                                    <td>${food.quantity}</td>
                                    <td>${food.unitPrice}</td>
                                 ");
                WriteLiteral(@"   <td>${food.totalPrice}</td>
                                    <td>
                                        <button class=""btnEdit"" 
                                            data-orderdate=""${food.orderDate.substring(0, 10)}""
                                            data-region=""${food.region}""
                                            data-product=""${food.product}""
                                            data-quantity=""${food.quantity}""
                                            data-unitprice=""${food.unitPrice}"">
                                            Edit
                                        </button>
                                        <button class=""btnDelete"" 
                                            data-product=""${food.product}""
                                            data-orderdate=""${food.orderDate.substring(0, 10)}""
                                            data-region=""${food.region}"">
                                            Delete
         ");
                WriteLiteral(@"                               </button>
                                    </td>
                                </tr>`;
                                tableBody.append(newRow);
                            });
                            $(""#message"").text(`แสดงผลการค้นหาสำหรับ: ${product}`);
                        } else {
                            $(""#message"").text(`ไม่พบผลลัพธ์สำหรับ: ${product}`);
                        }

                        // Re-bind click handlers for the new buttons
                        // You need to re-attach the event handlers because the buttons are newly created.
                        bindButtonEvents();
                    },
                    error: function(xhr){
                        console.log(xhr.responseText);
                        alert(""เกิดข้อผิดพลาดในการค้นหา"");
                    }
                });
            });

                // Create a function to bind event handlers
                function bindButtonEvents() ");
                WriteLiteral(@"{
                    // Re-bind the click events for Edit and Delete buttons
                    $("".btnEdit"").off(""click"").on(""click"", function() {
                        // Your existing Edit button logic here
                    });

                    $("".btnDelete"").off(""click"").on(""click"", function() {
                        // Your existing Delete button logic here
                    });
                }

            // ===================== Filter =====================
            $(""#btnFilter"").click(function () {
                var date = $(""#filterDate"").val();
                if(!date){ alert(""กรุณาเลือกวันที่""); return; }

                var parts = date.split('/');
                if(parts.length === 3){
                    var day = parts[0].padStart(2,'0');
                    var month = parts[1].padStart(2,'0');
                    var year = (parseInt(parts[2],10)-543).toString();
                    date = year + '-' + month + '-' + day;
                }

");
                WriteLiteral("                $.ajax({\r\n                    url: \'");
                Write(
#nullable restore
#line 378 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                           Url.Action("Filter", "Food")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@"',
                    type: 'GET',
                    data: { date: date },
                    success: function(response){
                        $(""#tableContainer"").html(response);
                    },
                    error: function(){
                        alert(""เกิดข้อผิดพลาดในการกรองข้อมูล"");
                    }
                });
            });

            // ===================== Refresh =====================
            $(""#btnRefresh"").click(function () {
                $.ajax({
                    url: '");
                Write(
#nullable restore
#line 393 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                           Url.Action("Index", "Food")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@"',
                    type: 'GET',
                    success: function(response){
                        $(""#tableContainer"").html(response);
                    },
                    error: function(){
                        alert(""เกิดข้อผิดพลาดในการรีเฟรช"");
                    }
                });
            });

                   $("".btnDelete"").click(function (e) {
            e.preventDefault();
            if (!confirm(""ต้องการลบข้อมูลนี้ใช่หรือไม่?"")) return;

            // รับข้อมูลจาก data- attributes ทั้งหมด
            var rowData = {
                orderDate: $(this).data(""orderdate""),
                region: $(this).data(""region""),
                product: $(this).data(""product"")
            };

            $.ajax({
                url: '");
                Write(
#nullable restore
#line 416 "C:\Users\ssss\Desktop\Webs\Food-sales\TestQuit\TestFood\Views\Food\Index.cshtml"
                       Url.Action("Delete", "Food")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@"',
                type: 'POST',
                // ส่ง object ที่มีข้อมูลที่ครบถ้วน
                data: rowData,
                success: function(response){
                    if (response.success) {
                        $(""#message"").text(""ลบข้อมูลสำเร็จ!"");
                        // หาลบ row ที่ถูกต้องบนหน้าเว็บ
                        $(e.target).closest(""tr"").remove();
                    } else {
                        alert(""เกิดข้อผิดพลาด: "" + response.message);
                    }
                },
                error: function(xhr){
                    console.log(xhr.responseText);
                    alert(""เกิดข้อผิดพลาดในการลบข้อมูล"");
                }
            });
        });

        });
    </script>


");
            }
            );
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<TestQuit.Models.Food>> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
